<div class="adduser-dialog-container">
    <div class="adduser-title d-flex justify-content-between align-items-center">
        <h3>Add New User Group</h3>
        <img src="../../../assets/close-icon.svg" alt="no-image" [mat-dialog-close]="true">
    </div>
    <form #groupForm="ngForm"
      class="dialog-section-wrapper" novalidate (ngSubmit)="groupForm.form.valid && saveGroup()">

        <div class="d-flex justify-content-between">
            <div class="search-wrap search-input-wrap roles-wrap selection-wrap d-flex flex-column ">
                <span class="input-label">Enter User Group Name<span class="text-danger"> *</span></span>
                <mat-form-field class="form-input" appearance="standard" >
                <input 
                  class="toolbar-search" 
                  type="text" 
                  matInput placeholder="Enter name of User Group" 
                  #usergroup = 'ngModel'
                  [(ngModel)]="groupname" name="name"
                  required >
                <!-- <mat-error *ngIf="formControl.invalid">Please enter User Group Name</mat-error> -->
              </mat-form-field>
              <mat-error *ngIf="groupForm.submitted || (usergroup?.invalid && (usergroup.dirty || usergroup.touched))">
                <div *ngIf="usergroup.errors" class="error-msg error-email">
                  Please enter User Group Name
                </div>
              </mat-error>
              </div>

            <div class="search-wrap roles-wrap selection-wrap d-flex flex-column">
                <span class="roles-title">Country<span class="text-danger"> *</span></span>
                <mat-form-field appearance="standard">
                  <mat-select class="toolbar-search" 
                      #countryId = 'ngModel'
                      [(ngModel)]="country" 
                      placeholder="Select Country" 
                      name="Select Country" required>
                    <mat-option *ngFor="let option of data" [value]="option.id">
                      {{option.name}}
                    </mat-option>
                  </mat-select>
                  <!-- <mat-error *ngIf="formControl.invalid">Please select Country</mat-error> -->
                </mat-form-field>
                <mat-error *ngIf="groupForm.submitted || (countryId?.invalid && (countryId.dirty || countryId.touched))">
                  <div *ngIf="countryId.errors" class="error-msg">
                    Please select Country
                  </div>
                </mat-error>
            </div>
        </div>
        <!-- <div class="tab-wrapper">
            <span class="roles-title">Assign Level</span>
            <mat-tab-group>
                <mat-tab label="Interior">
                    <div class="content-wrap d-flex justify-content-between">
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 1</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 2</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 3</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 4</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Exterior">
                    <div class="content-wrap d-flex justify-content-between">
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 1</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 2</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 3</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 4</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Functional">
                    <div class="content-wrap d-flex justify-content-between">
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 1</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 2</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 3</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        <div class="checkbox-block d-flex flex-column">
                            <mat-checkbox class="example-margin">Level 4</mat-checkbox>
                            <mat-form-field appearance="standard">

                                <mat-select  placeholder="All">
                                  <mat-option>None</mat-option>
                                  <mat-option value="option1">Option 1</mat-option>
                                  <mat-option value="option2">Option 2</mat-option>
                                  <mat-option value="option3">Option 3</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                    </div>
                </mat-tab>
              </mat-tab-group>
        </div>
       <div class="tree-wrapper">
        <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
            <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle matTreeNodePadding>
              <button mat-icon-button disabled></button>
              <mat-checkbox class="checklist-leaf-node"
                            [checked]="checklistSelection.isSelected(node)"
                            (change)="todoLeafItemSelectionToggle(node)">{{node.item}}</mat-checkbox>
            </mat-tree-node>

            <mat-tree-node *matTreeNodeDef="let node; when: hasNoContent" matTreeNodePadding>
              <button mat-icon-button disabled></button>
              <mat-form-field>
                <mat-label>New item...</mat-label>
                <input matInput #itemValue placeholder="Ex. Lettuce">
              </mat-form-field>
              <button mat-button (click)="saveNode(node, itemValue.value)">Save</button>
            </mat-tree-node>

            <mat-tree-node *matTreeNodeDef="let node; when: hasChild" matTreeNodePadding>
              <button mat-icon-button matTreeNodeToggle
                      [attr.aria-label]="'toggle ' + node.filename">
                <mat-icon class="mat-icon-rtl-mirror">
                  {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
                </mat-icon>
              </button>
              <mat-checkbox [checked]="descendantsAllSelected(node)"
                            [indeterminate]="descendantsPartiallySelected(node)"
                            (change)="todoItemSelectionToggle(node)">{{node.item}}</mat-checkbox>
              <button mat-icon-button (click)="addNewItem(node)"><mat-icon>add</mat-icon></button>
            </mat-tree-node>
          </mat-tree>
       </div> -->
<br>
      <div class="roles-wrap">
        <span class="roles-title">Assign Level</span>
        <mat-tab-group (selectedTabChange)="changeTabData($event)">
          <mat-tab label={{tab.text}} *ngFor="let tab of tabs; let index = index">
            <br>

            <div class="treeview-container">
              <ngx-treeview [config]="config" [items]="items" (click)="onSelectedChange(items,index)"
                (filterChange)="onFilterChange($event)">
              </ngx-treeview>
            </div>
          </mat-tab>
        </mat-tab-group>
      </div>
        <div class="button-wrap d-flex justify-content-end">
            <button [mat-dialog-close]="true" class="cancel-btn">Cancel</button>
            <button type="submit" class="add-user" >Save</button>
        </div>
    </form>
</div>
